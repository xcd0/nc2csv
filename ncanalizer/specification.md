# 仕様書

## IO

### 入力
NCデータの記述されたテキストファイル

基本UTF-8(no BOM)とするが、shift-jisにも対応する。


A. Okada が[2019/12/11 10:31]に更新

nc プログラム (通称 G code)
* テキストデータである。
* 文字コード : 規定無し (とりあえず UTF8 で、今後必要なら切り替え可にする)
* テキスト 1 行ごとに、1 回のまとまった動作を表す

※ 固有名詞を、通称 → 厳密な用語に書き換える可能性有

* 最初の行は % である。
* 2番目の行は OXXXX (XXXX は整数) プログラム番号で、プログラムの id 番号のようなものである。
* 以降の行は "ブロック" の集まりが書いてある。
* 最後の行は % である。

厳密に従わないプログラムもあるので、
* % は無視 (指令無し扱い)
* OXXXX は見つけた時点でプログラム番号扱い (=解析上無視してよい)
でもよい

ブロック
* NCプログラムは複数の指令で構成される。1個の指令をブロックという。
* ブロックは EOB コードで区切られる。制御装置上は ; で表示される。
* CAM の nc プログラム出力する場合は、EOB コードは改行文字である。

ブロックの構成
	アドレス = アルファベット1文字 ※特殊設定では存在するが通常は無視でよい
	ワード = アドレス + (スペースはさむ場合有) + 数値
	ブロック = {ワード}* (スペースはさむ場合有)
	ブロックが無い行はなにもしない

### 出力
各座標の座標値、送り速度、などが記述された
csvファイルの予定

内容は拡張していく。

## 
